import{r as g,f as t,j as C,k as w,g as r,x as a,y as V,p as s,F as m,C as p,t as x,z as j,D as B,l as F,q as N,v as U}from"./@vue-r-HUGdoc.js";import{Q as $,O as D}from"./@inertiajs-ssfLaM5f.js";import{_ as O}from"./AuthenticatedLayout-7zCDPPUQ.js";import{P}from"./PrimaryButton-Bi0o4Yet.js";import"./axios-mNEckKTA.js";import"./deepmerge-LjH1GvcH.js";import"./call-bind-C9g98eDj.js";import"./get-intrinsic-PI8GGpBQ.js";import"./has-symbols-fNtejGuA.js";import"./has-proto-dzJH2Y5C.js";import"./function-bind-HMk2skFd.js";import"./hasown-iNtpzeJm.js";import"./set-function-length-Q9qN-rEI.js";import"./define-data-property-0n4USnm6.js";import"./has-property-descriptors-CncpgOAI.js";import"./gopd-l1hRYync.js";import"./qs-NiufHlhl.js";import"./side-channel-DQESS8qD.js";import"./object-inspect-upD72wnW.js";import"./nprogress-eK4H2Raz.js";import"./lodash.clonedeep-ONeKF3hD.js";import"./lodash.isequal-8drsGctg.js";import"./flowbite-0yPYSvbH.js";import"./@popperjs-zyV4rJhQ.js";import"./_plugin-vue_export-helper-x3n3nnut.js";const T={key:0,class:"text-red-600 mb-4"},z={class:"py-12"},E={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},M={class:"bg-white shadow-sm sm:rounded-lg"},R={class:"p-6"},A={class:"text-2xl font-bold mb-6"},L={class:"text-gray-600 mb-6"},Q={key:0,class:"space-y-8"},G={class:"text-lg font-medium mb-4"},H={key:0,class:"flex gap-4 mb-4"},I={key:1,class:"bg-gray-50 p-4 rounded-lg whitespace-pre-wrap"},J={class:"mt-6 p-4 bg-gray-50 rounded-lg"},K=s("p",{class:"font-medium"}," Thank you for your feedback! ",-1),W={class:"mt-2"},X={class:"text-lg font-medium mb-4"},Y={key:0,class:"space-y-3"},Z={class:"flex gap-4"},q=["onClick"],ee={key:1,class:"space-y-3"},se=["onUpdate:modelValue"],te={class:"flex justify-end"},Be={__name:"Show",props:{survey:Object},setup(l){const _=l,b=$(),n=g({}),h=g(!1),k=()=>{h.value=!0,D.post(route("surveys.submit",_.survey.uuid),{answers:n.value},{onFinish:()=>h.value=!1})},S=()=>{var o;return(o=_.survey.responses)==null?void 0:o.some(d=>d.user_id===b.props.auth.user.id)},u=()=>{var o;return(o=_.survey.responses)==null?void 0:o.find(d=>d.user_id===b.props.auth.user.id)},y=(o,d)=>!d||!d.answers?null:d.answers.find(e=>e.survey_question_id===o);return(o,d)=>(t(),C(O,null,{default:w(()=>[o.$page.props.errors.answers?(t(),r("div",T,a(o.$page.props.errors.answers),1)):V("",!0),s("div",z,[s("div",E,[s("div",M,[s("div",R,[s("h2",A,a(l.survey.title),1),s("p",L,a(l.survey.description),1),S()?(t(),r("div",Q,[(t(!0),r(m,null,p(l.survey.questions,e=>{var i;return t(),r("div",{key:e.id,class:"p-6 border rounded-lg"},[s("h3",G,a(e.question),1),e.type==="rating"?(t(),r("div",H,[(t(),r(m,null,p(5,c=>{var v,f;return s("div",{key:c,class:x(["w-12 h-12 flex items-center justify-center rounded-lg",{"bg-blue-100 border-blue-500 border-2":((v=y(e.id,u()))==null?void 0:v.answer)===c.toString(),"bg-gray-100":((f=y(e.id,u()))==null?void 0:f.answer)!==c.toString()}])},a(c),3)}),64))])):(t(),r("div",I,a((i=y(e.id,u()))==null?void 0:i.answer),1))])}),128)),s("div",J,[K,s("p",W," Points Earned: "+a(u().points_earned),1)])])):(t(),r("form",{key:1,onSubmit:U(k,["prevent"])},[(t(!0),r(m,null,p(l.survey.questions,e=>(t(),r("div",{key:e.id,class:"mb-8"},[s("h3",X,a(e.question),1),e.type==="rating"?(t(),r("div",Y,[s("div",Z,[(t(),r(m,null,p(5,i=>s("button",{key:i,type:"button",class:x(["w-12 h-12 flex items-center justify-center rounded-lg border",{"bg-blue-500 text-white border-blue-500":n.value[e.id]===i.toString(),"bg-white border-gray-300 hover:bg-gray-50":n.value[e.id]!==i.toString()}]),onClick:c=>n.value[e.id]=i.toString()},a(i),11,q)),64))])])):(t(),r("div",ee,[j(s("textarea",{"onUpdate:modelValue":i=>n.value[e.id]=i,rows:"3",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,8,se),[[B,n.value[e.id]]])]))]))),128)),s("div",te,[F(P,{disabled:h.value},{default:w(()=>[N(" Submit Feedback ")]),_:1},8,["disabled"])])],32))])])])])]),_:1}))}};export{Be as default};
