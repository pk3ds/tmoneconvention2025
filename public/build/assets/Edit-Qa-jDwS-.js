import{f as _,g,l as t,u as o,k as l,F as b,q as c,p as e,v as S,z as x,D,C as B,x as C,B as j}from"./@vue-r-HUGdoc.js";import{_ as Q}from"./AuthenticatedLayout-7zCDPPUQ.js";import{B as w}from"./BreadcrumbItem-8jgT9ZSk.js";import{T,Z as U,i as y}from"./@inertiajs-ssfLaM5f.js";import{P as h}from"./PrimaryButton-Bi0o4Yet.js";import{_ as u,a as f,b as m}from"./TextInput-97J-R1Wl.js";import{_ as $}from"./SecondaryButton-t3hzl1SF.js";import{S as O}from"./qrcode-vue3-eOzeECfp.js";import"./flowbite-0yPYSvbH.js";import"./@popperjs-zyV4rJhQ.js";import"./_plugin-vue_export-helper-x3n3nnut.js";import"./axios-mNEckKTA.js";import"./deepmerge-LjH1GvcH.js";import"./call-bind-C9g98eDj.js";import"./get-intrinsic-PI8GGpBQ.js";import"./has-symbols-fNtejGuA.js";import"./has-proto-dzJH2Y5C.js";import"./function-bind-HMk2skFd.js";import"./hasown-iNtpzeJm.js";import"./set-function-length-Q9qN-rEI.js";import"./define-data-property-0n4USnm6.js";import"./has-property-descriptors-CncpgOAI.js";import"./gopd-l1hRYync.js";import"./qs-NiufHlhl.js";import"./side-channel-DQESS8qD.js";import"./object-inspect-upD72wnW.js";import"./nprogress-eK4H2Raz.js";import"./lodash.clonedeep-ONeKF3hD.js";import"./lodash.isequal-8drsGctg.js";const E=e("span",{class:"ml-4 text-sm font-medium text-gray-500"}," Edit Survey ",-1),M={class:"py-12"},R={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},F={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},N={class:"p-6"},z={class:"space-y-4"},L={class:"grid grid-cols-2 gap-4"},P={class:"space-y-6"},A=e("h3",{class:"text-lg font-medium"}," Questions ",-1),H={class:"flex justify-between items-start"},I={class:"font-medium"},W=["onClick","disabled"],Z={class:"space-y-4"},G=["id","onUpdate:modelValue"],J=e("option",{value:"rating"}," Rating (1-5) ",-1),K=e("option",{value:"text"}," Text Response ",-1),X=[J,K],Y={class:"flex justify-between gap-4"},ee={class:"flex gap-4"},te={id:"qr-modal",tabindex:"-1","aria-hidden":"true",class:"hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"},se={class:"relative w-full max-w-md max-h-full p-4"},oe={class:"relative bg-white rounded-lg shadow dark:bg-gray-700"},re=e("div",{class:"flex items-center justify-between p-4 border-b rounded-t md:p-5 dark:border-gray-600"},[e("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white"}," Survey QR Code "),e("button",{type:"button",class:"end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-hide":"qr-modal"},[e("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})]),e("span",{class:"sr-only"},"Close modal")])],-1),le={class:"p-4 md:p-5"},ie={class:"flex items-center justify-center gap-4 p-4 md:p-5"},Ee={__name:"Edit",props:{survey:Object},setup(v){const d=v,s=T({title:d.survey.title,description:d.survey.description,start_time:d.survey.start_time,end_time:d.survey.end_time,questions:d.survey.questions}),q=()=>{s.questions.push({question:"",type:"rating",order:s.questions.length+1})},k=n=>{s.questions.splice(n,1),s.questions.forEach((i,r)=>{i.order=r+1})},V=()=>{s.put(route("surveys.update",d.survey.id))};return(n,i)=>(_(),g(b,null,[t(o(U),{title:"Edit Survey"}),t(Q,null,{breadcrumb:l(()=>[t(w,null,{default:l(()=>[t(o(y),{href:n.route("surveys.index"),class:"ml-4 text-sm font-medium text-gray-500 hover:text-gray-700"},{default:l(()=>[c(" Surveys ")]),_:1},8,["href"])]),_:1}),t(w,null,{default:l(()=>[E]),_:1})]),default:l(()=>[e("div",M,[e("div",R,[e("div",F,[e("div",N,[e("form",{onSubmit:S(V,["prevent"]),class:"space-y-6"},[e("div",z,[e("div",null,[t(u,{for:"title",value:"Survey Title"}),t(f,{id:"title",type:"text",modelValue:o(s).title,"onUpdate:modelValue":i[0]||(i[0]=r=>o(s).title=r),class:"mt-1 block w-full",required:""},null,8,["modelValue"]),t(m,{message:o(s).errors.title,class:"mt-2"},null,8,["message"])]),e("div",null,[t(u,{for:"description",value:"Description"}),x(e("textarea",{id:"description","onUpdate:modelValue":i[1]||(i[1]=r=>o(s).description=r),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:"3"},null,512),[[D,o(s).description]]),t(m,{message:o(s).errors.description,class:"mt-2"},null,8,["message"])]),e("div",L,[e("div",null,[t(u,{for:"start_time",value:"Start Time"}),t(f,{id:"start_time",type:"datetime-local",modelValue:o(s).start_time,"onUpdate:modelValue":i[2]||(i[2]=r=>o(s).start_time=r),class:"mt-1 block w-full",required:""},null,8,["modelValue"]),t(m,{message:o(s).errors.start_time,class:"mt-2"},null,8,["message"])]),e("div",null,[t(u,{for:"end_time",value:"End Time"}),t(f,{id:"end_time",type:"datetime-local",modelValue:o(s).end_time,"onUpdate:modelValue":i[3]||(i[3]=r=>o(s).end_time=r),class:"mt-1 block w-full",required:""},null,8,["modelValue"]),t(m,{message:o(s).errors.end_time,class:"mt-2"},null,8,["message"])])])]),e("div",P,[e("div",{class:"flex justify-between items-center"},[A,e("button",{type:"button",onClick:q,class:"text-sm bg-gray-100 px-3 py-2 rounded-md hover:bg-gray-200"}," Add Question ")]),(_(!0),g(b,null,B(o(s).questions,(r,a)=>(_(),g("div",{key:a,class:"p-4 border rounded-lg space-y-4"},[e("div",H,[e("h4",I," Question "+C(a+1),1),e("button",{type:"button",onClick:p=>k(a),class:"text-red-600 hover:text-red-800",disabled:o(s).questions.length===1}," Remove ",8,W)]),e("div",Z,[e("div",null,[t(u,{for:"question-"+a,value:"Question Text"},null,8,["for"]),t(f,{id:"question-"+a,type:"text",modelValue:r.question,"onUpdate:modelValue":p=>r.question=p,class:"mt-1 block w-full",required:""},null,8,["id","modelValue","onUpdate:modelValue"]),t(m,{message:o(s).errors[`questions.${a}.question`],class:"mt-2"},null,8,["message"])]),e("div",null,[t(u,{for:"type-"+a,value:"Question Type"},null,8,["for"]),x(e("select",{id:"type-"+a,"onUpdate:modelValue":p=>r.type=p,class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:""},X,8,G),[[j,r.type]]),t(m,{message:o(s).errors[`questions.${a}.type`],class:"mt-2"},null,8,["message"])])])]))),128))]),e("div",Y,[e("div",ee,[t(o(y),{href:n.route("surveys.index")},{default:l(()=>[t($,{type:"button"},{default:l(()=>[c("Cancel")]),_:1})]),_:1},8,["href"]),t(h,{disabled:o(s).processing},{default:l(()=>[c(" Update Survey ")]),_:1},8,["disabled"])]),t(h,{type:"button","data-modal-target":"qr-modal","data-modal-toggle":"qr-modal"},{default:l(()=>[c(" QR Code ")]),_:1})]),e("div",te,[e("div",se,[e("div",oe,[re,e("div",le,[t(o(O),{width:1e3,height:1e3,value:n.route("surveys.show",v.survey.uuid),qrOptions:{typeNumber:0,mode:"Byte",errorCorrectionLevel:"H"},image:"/images/Wording-02.png",imageOptions:{hideBackgroundDots:!0,imageSize:.4,margin:0},dotsOptions:{type:"rounded",color:"#2362DD",gradient:{type:"linear",rotation:90,colorStops:[{offset:0,color:"#99B6FF"},{offset:1,color:"#2362DD"}]}},backgroundOptions:{color:"#ffffff"},cornersSquareOptions:{type:"extra-rounded",color:"#2362DD"},cornersDotOptions:{type:"dot",color:"#180092"}},null,8,["value"])]),e("div",ie,[t(o(y),{href:n.route("surveys.show",v.survey.uuid)},{default:l(()=>[t(h,{"data-modal-hide":"qr-modal"},{default:l(()=>[c(" Link ")]),_:1})]),_:1},8,["href"])])])])])],32)])])])])]),_:1})],64))}};export{Ee as default};
