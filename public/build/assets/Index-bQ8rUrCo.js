import{f as o,g as l,l as i,u as c,k as a,F as w,q as m,p as t,v as B,z as S,D as $,j as x,y as r,C as M,x as n}from"./@vue-ioZSKZPS.js";import{_ as H}from"./AuthenticatedLayout-JFvQXC81.js";import{_ as f}from"./SecondaryButton-pvxMMfeN.js";import{P as v}from"./PrimaryButton-Sc2Na1gZ.js";import{B as A}from"./BreadcrumbItem-DXh44214.js";import{Q as N,T,Z as j,i as h,O as y}from"./@inertiajs-bduIXNZ8.js";import"./flowbite-0yPYSvbH.js";import"./@popperjs-zyV4rJhQ.js";import"./_plugin-vue_export-helper-x3n3nnut.js";import"./axios-mNEckKTA.js";import"./deepmerge-LjH1GvcH.js";import"./call-bind-C9g98eDj.js";import"./get-intrinsic-PI8GGpBQ.js";import"./has-symbols-fNtejGuA.js";import"./has-proto-dzJH2Y5C.js";import"./function-bind-HMk2skFd.js";import"./hasown-iNtpzeJm.js";import"./set-function-length-Q9qN-rEI.js";import"./define-data-property-0n4USnm6.js";import"./has-property-descriptors-CncpgOAI.js";import"./gopd-l1hRYync.js";import"./qs-NiufHlhl.js";import"./side-channel-DQESS8qD.js";import"./object-inspect-upD72wnW.js";import"./nprogress-eK4H2Raz.js";import"./lodash.clonedeep-ONeKF3hD.js";import"./lodash.isequal-8drsGctg.js";const D={class:"py-4"},O={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},Z=t("label",{for:"default-search",class:"mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white"},"Search",-1),I={class:"relative"},P=t("div",{class:"absolute inset-y-0 flex items-center pointer-events-none start-0 ps-3"},[t("svg",{class:"w-4 h-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},[t("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})])],-1),R=t("button",{class:"text-white font-semibold absolute end-2.5 bottom-2.5 bg-cobalt-blue font-title hover:bg-ultramarine focus:ring-4 focus:outline-none focus:ring-blue-300 tracking-widest rounded-md text-xs uppercase px-4 py-2"}," Search ",-1),q={class:"overflow-hidden bg-white shadow-sm dark:bg-gray-800 sm:rounded-lg"},E={class:"p-6 text-gray-900 dark:text-gray-100"},F={class:"px-4 sm:px-6 lg:px-8"},Q={class:"sm:flex sm:items-center"},U=t("div",{class:"sm:flex-auto"},[t("h1",{class:"text-base font-semibold leading-6 text-gray-900"}," PWRSTATIONS "),t("p",{class:"mt-2 text-sm text-gray-700"}," A list of all the stations including their name and number of users. ")],-1),W={class:"mt-4 sm:ml-16 sm:mt-0 sm:flex-none"},G={class:"mt-8 -mx-4 sm:-mx-0"},J={key:0,class:"text-base leading-6 text-gray-900"},K={key:1,class:"min-w-full divide-y divide-gray-300"},X=t("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0"}," Name ",-1),Y=t("th",{scope:"col",class:"hidden px-3 py-3.5 text-left text-sm font-semibold text-gray-900 lg:table-cell"}," Type ",-1),tt={key:0,scope:"col",class:"hidden px-3 py-3.5 text-left text-sm font-semibold text-gray-900 lg:table-cell"},et=t("th",{scope:"col",class:"hidden px-3 py-3.5 text-left text-sm font-semibold text-gray-900 lg:table-cell"}," Description ",-1),st=t("th",{scope:"col",class:"relative py-3.5 pl-3 pr-4 sm:pr-0"},[t("span",{class:"sr-only"},"Edit")],-1),ot={class:"bg-white divide-y divide-gray-200"},lt={class:"w-full py-4 pl-4 pr-3 text-sm font-medium text-gray-900 max-w-0 sm:w-auto sm:max-w-none sm:pl-0"},at={class:"flex gap-2"},rt={key:0,class:"w-3.5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",fill:"currentColor"},it=t("path",{d:"M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"},null,-1),ct=[it],nt={class:"font-normal lg:hidden"},dt=t("dt",{class:"sr-only"}," Type ",-1),pt={class:"mt-1 text-gray-700 capitalize truncate"},mt={key:0,class:"sr-only"},ht={key:1,class:"mt-1 text-gray-700 truncate"},ut={class:"flex items-center"},gt=t("svg",{class:"w-4 h-4 text-yellow-300 me-1","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 22 20"},[t("path",{d:"M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z"})],-1),_t={class:"text-sm font-bold text-gray-900 ms-2 dark:text-white"},xt={class:"hidden px-3 py-4 text-sm text-gray-500 capitalize lg:table-cell"},ft={key:0,class:"hidden px-3 py-4 text-sm text-gray-500 lg:table-cell"},yt={class:"flex items-center"},wt=t("svg",{class:"w-4 h-4 text-yellow-300 me-1","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 22 20"},[t("path",{d:"M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z"})],-1),vt={class:"text-sm font-bold text-gray-900 ms-2 dark:text-white"},bt={class:"hidden px-3 py-4 text-sm text-gray-500 lg:table-cell"},kt={class:"flex justify-end gap-4 px-3 py-4"},Vt=t("svg",{class:"w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"currentColor"},[t("path",{d:"M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z"})],-1),zt=["onClick"],Ct=t("svg",{class:"w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",fill:"currentColor"},[t("path",{d:"M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"})],-1),Lt=["onClick"],Bt=t("svg",{class:"w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"currentColor"},[t("path",{d:"M174.7 45.1C192.2 17 223 0 256 0s63.8 17 81.3 45.1l38.6 61.7 27-15.6c8.4-4.9 18.9-4.2 26.6 1.7s11.1 15.9 8.6 25.3l-23.4 87.4c-3.4 12.8-16.6 20.4-29.4 17l-87.4-23.4c-9.4-2.5-16.3-10.4-17.6-20s3.4-19.1 11.8-23.9l28.4-16.4L283 79c-5.8-9.3-16-15-27-15s-21.2 5.7-27 15l-17.5 28c-9.2 14.8-28.6 19.5-43.6 10.5c-15.3-9.2-20.2-29.2-10.7-44.4l17.5-28zM429.5 251.9c15-9 34.4-4.3 43.6 10.5l24.4 39.1c9.4 15.1 14.4 32.4 14.6 50.2c.3 53.1-42.7 96.4-95.8 96.4L320 448v32c0 9.7-5.8 18.5-14.8 22.2s-19.3 1.7-26.2-5.2l-64-64c-9.4-9.4-9.4-24.6 0-33.9l64-64c6.9-6.9 17.2-8.9 26.2-5.2s14.8 12.5 14.8 22.2v32l96.2 0c17.6 0 31.9-14.4 31.8-32c0-5.9-1.7-11.7-4.8-16.7l-24.4-39.1c-9.5-15.2-4.7-35.2 10.7-44.4zm-364.6-31L36 204.2c-8.4-4.9-13.1-14.3-11.8-23.9s8.2-17.5 17.6-20l87.4-23.4c12.8-3.4 26 4.2 29.4 17L182 241.2c2.5 9.4-.9 19.3-8.6 25.3s-18.2 6.6-26.6 1.7l-26.5-15.3L68.8 335.3c-3.1 5-4.8 10.8-4.8 16.7c-.1 17.6 14.2 32 31.8 32l32.2 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-32.2 0C42.7 448-.3 404.8 0 351.6c.1-17.8 5.1-35.1 14.6-50.2l50.3-80.5z"})],-1),se={__name:"Index",props:{search:String,stations:Object},setup(u){const b=u,k=N(),g=T({search:b.search??null}),V=()=>{y.get(route("stations.index",{search:g.search}))},z=s=>{y.delete(route("stations.destroy",s))},C=s=>{y.put(route("stations.restore",s))},L=s=>{var d;return((d=s.quizzes)==null?void 0:d.some(e=>{var p;return(p=e.attempts)==null?void 0:p.some(_=>_.participant_id===k.props.auth.user.id)}))??!1};return(s,d)=>(o(),l(w,null,[i(c(j),{title:"Stations"}),i(H,null,{breadcrumb:a(()=>[i(A,null,{default:a(()=>[i(c(h),{href:"#",class:"ml-4 text-sm font-medium text-gray-500 hover:text-gray-700"},{default:a(()=>[m(" Stations ")]),_:1})]),_:1})]),default:a(()=>[t("div",D,[t("div",O,[t("form",{class:"mb-6",onSubmit:B(V,["prevent"])},[Z,t("div",I,[P,S(t("input",{type:"search",id:"default-search","onUpdate:modelValue":d[0]||(d[0]=e=>c(g).search=e),class:"block w-full p-4 text-sm text-gray-900 bg-white border border-gray-300 rounded-none sm:rounded-lg ps-10 focus:ring-blue-500 focus:border-blue-500",placeholder:"Search stations..."},null,512),[[$,c(g).search]]),R])],32),t("div",q,[t("div",E,[t("div",F,[t("div",Q,[U,t("div",W,[s.$page.props.permissions.includes("manage stations")?(o(),x(c(h),{key:0,href:s.route("stations.create")},{default:a(()=>[i(v,null,{default:a(()=>[m(" Add station ")]),_:1})]),_:1},8,["href"])):r("",!0)])]),t("div",G,[u.stations.length<=0?(o(),l("h1",J," No stations to display ")):(o(),l("table",K,[t("thead",null,[t("tr",null,[X,Y,s.$page.props.permissions.includes("view rating")?(o(),l("th",tt," Rating ")):r("",!0),et,st])]),t("tbody",ot,[(o(!0),l(w,null,M(u.stations,e=>{var p;return o(),l("tr",null,[t("td",lt,[t("span",at,[m(n(e.name)+" ",1),e.deleted_at?(o(),l("svg",rt,ct)):r("",!0)]),t("dl",nt,[dt,t("dd",pt,n(e.type),1),s.$page.props.permissions.includes("view rating")?(o(),l("dt",mt," Rating ")):r("",!0),s.$page.props.permissions.includes("view rating")?(o(),l("dd",ht,[t("div",ut,[gt,t("p",_t,n(e.rating),1)])])):r("",!0)])]),t("td",xt,n(e.type),1),s.$page.props.permissions.includes("view rating")?(o(),l("td",ft,[t("div",yt,[wt,t("p",vt,n(e.rating),1)])])):r("",!0),t("td",bt,n(e.description),1),t("td",kt,[!e.deleted_at&&s.$page.props.permissions.includes("manage stations")?(o(),x(c(h),{key:0,href:s.route("stations.edit",e)},{default:a(()=>[i(v,null,{default:a(()=>[Vt]),_:1})]),_:2},1032,["href"])):r("",!0),!e.deleted_at&&s.$page.props.permissions.includes("manage stations")?(o(),l("span",{key:1,onClick:_=>z(e)},[i(f,{class:"text-red-700 hover:text-red-500"},{default:a(()=>[Ct]),_:1})],8,zt)):r("",!0),e.deleted_at&&s.$page.props.permissions.includes("manage stations")?(o(),l("span",{key:2,onClick:_=>C(e.id)},[i(f,{class:"text-green-600 cursor-pointer hover:text-green-500"},{default:a(()=>[Bt]),_:1})],8,Lt)):r("",!0),(p=s.$page.props.auth.user.group)!=null&&p.id?(o(),x(c(h),{key:3,href:s.route("stations.show",e)},{default:a(()=>[i(f,null,{default:a(()=>[m(n(L(e)?"View":"Start"),1)]),_:2},1024)]),_:2},1032,["href"])):r("",!0)])])}),256))])]))])])])])])])]),_:1})],64))}};export{se as default};
