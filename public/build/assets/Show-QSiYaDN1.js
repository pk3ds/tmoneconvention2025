import{r as w,f as t,j as C,k as x,g as o,x as n,y as h,p as e,C as c,F as m,t as S,v as V,z as j,P as M,l as A,q as N}from"./@vue-ioZSKZPS.js";import{Q as P,O as U}from"./@inertiajs-bduIXNZ8.js";import{_ as F}from"./AuthenticatedLayout-Xx1q5qOI.js";import{P as O}from"./PrimaryButton-Sc2Na1gZ.js";import"./axios-mNEckKTA.js";import"./deepmerge-LjH1GvcH.js";import"./call-bind-C9g98eDj.js";import"./get-intrinsic-PI8GGpBQ.js";import"./has-symbols-fNtejGuA.js";import"./has-proto-dzJH2Y5C.js";import"./function-bind-HMk2skFd.js";import"./hasown-iNtpzeJm.js";import"./set-function-length-Q9qN-rEI.js";import"./define-data-property-0n4USnm6.js";import"./has-property-descriptors-CncpgOAI.js";import"./gopd-l1hRYync.js";import"./qs-NiufHlhl.js";import"./side-channel-DQESS8qD.js";import"./object-inspect-upD72wnW.js";import"./nprogress-eK4H2Raz.js";import"./lodash.clonedeep-ONeKF3hD.js";import"./lodash.isequal-8drsGctg.js";import"./flowbite-0yPYSvbH.js";import"./@popperjs-zyV4rJhQ.js";import"./_plugin-vue_export-helper-x3n3nnut.js";const $={key:0,class:"text-red-600 mb-4"},D={class:"py-12"},E={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Q={class:"bg-white shadow-sm sm:rounded-lg"},R={class:"p-6"},T={class:"text-2xl font-bold mb-6"},q={key:0,class:"space-y-8"},G={class:"text-lg font-medium mb-4"},H={class:"space-y-3"},I={class:"flex items-center gap-3"},J={key:0,class:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},K=e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1),W=[K],X={key:1,class:"w-5 h-5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Y=e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1),Z=[Y],z={class:"mt-6 p-4 bg-gray-50 rounded-lg"},L={class:"font-medium"},ee={class:"mt-2"},se=["onSubmit"],te={class:"text-lg font-medium mb-4"},oe={class:"space-y-3"},re=["name","value","onUpdate:modelValue"],ie={class:"flex justify-end"},Ne={__name:"Show",props:{station:Object},setup(v){const y=v,f=P(),_=w({}),p=w(!1),k=a=>{p.value=!0,U.post(route("quizzes.submit",[y.station.id,a.id]),{answers:_.value},{onFinish:()=>p.value=!1})},B=a=>{var d;return(d=a.attempts)==null?void 0:d.some(s=>s.participant_id===f.props.auth.user.id)},l=a=>{var d;return(d=a.attempts)==null?void 0:d.find(s=>s.participant_id===f.props.auth.user.id)},g=(a,d)=>!d||!d.answers?null:d.answers.find(s=>s.quiz_question.question_id===a);return(a,d)=>(t(),C(F,null,{default:x(()=>[a.$page.props.errors.answers?(t(),o("div",$,n(a.$page.props.errors.answers),1)):h("",!0),e("div",D,[e("div",E,[e("div",Q,[e("div",R,[(t(!0),o(m,null,c(v.station.quizzes,s=>(t(),o("div",{key:s.id},[e("h2",T,n(s.name),1),B(s)?(t(),o("div",q,[(t(!0),o(m,null,c(s.questions,r=>(t(),o("div",{key:r.id,class:"p-6 border rounded-lg"},[e("h3",G,n(r.question.name),1),e("div",H,[(t(!0),o(m,null,c(r.question.options,i=>{var u,b;return t(),o("div",{key:i.id,class:S(["flex items-center p-3 border rounded",{"bg-green-100":i.is_correct,"bg-red-100":!i.is_correct&&((u=g(r.question_id,l(s)))==null?void 0:u.question_option_id)===i.id}])},[e("div",I,[i.is_correct?(t(),o("svg",J,W)):h("",!0),!i.is_correct&&((b=g(r.question_id,l(s)))==null?void 0:b.question_option_id)===i.id?(t(),o("svg",X,Z)):h("",!0),e("span",null,n(i.name),1)])],2)}),128))])]))),128)),e("div",z,[e("p",L," Score: "+n(l(s).marks_obtained)+" / "+n(s.total_marks),1),e("p",null," Correct Answers: "+n(l(s).correct_answers)+" / "+n(l(s).total_questions),1),e("p",ee," Points Earned: "+n(l(s).points_earned),1)])])):(t(),o("form",{key:1,onSubmit:V(()=>k(s),["prevent"])},[(t(!0),o(m,null,c(s.questions,r=>(t(),o("div",{key:r.id,class:"mb-8"},[e("h3",te,n(r.question.name),1),e("div",oe,[(t(!0),o(m,null,c(r.question.options,i=>(t(),o("label",{key:i.id,class:"flex items-center p-3 border rounded hover:bg-gray-50"},[j(e("input",{type:"radio",name:"question-"+r.question.id,value:i.id,"onUpdate:modelValue":u=>_.value[r.question.id]=u,class:"mr-3"},null,8,re),[[M,_.value[r.question.id]]]),e("span",null,n(i.name),1)]))),128))])]))),128)),e("div",ie,[A(O,{disabled:p.value},{default:x(()=>[N(" Submit Quiz ")]),_:1},8,["disabled"])])],40,se))]))),128))])])])])]),_:1}))}};export{Ne as default};
