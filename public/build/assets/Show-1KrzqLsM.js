import{r as x,f as o,j as k,k as w,g as r,x as n,y as c,p as s,F as p,C as _,q as f,t as B,z as C,M,l as S,v as V}from"./@vue-ioZSKZPS.js";import{Q as j,O as F}from"./@inertiajs-bduIXNZ8.js";import{_ as A}from"./AuthenticatedLayout-JFvQXC81.js";import{P as N}from"./PrimaryButton-Sc2Na1gZ.js";import"./axios-mNEckKTA.js";import"./deepmerge-LjH1GvcH.js";import"./call-bind-C9g98eDj.js";import"./get-intrinsic-PI8GGpBQ.js";import"./has-symbols-fNtejGuA.js";import"./has-proto-dzJH2Y5C.js";import"./function-bind-HMk2skFd.js";import"./hasown-iNtpzeJm.js";import"./set-function-length-Q9qN-rEI.js";import"./define-data-property-0n4USnm6.js";import"./has-property-descriptors-CncpgOAI.js";import"./gopd-l1hRYync.js";import"./qs-NiufHlhl.js";import"./side-channel-DQESS8qD.js";import"./object-inspect-upD72wnW.js";import"./nprogress-eK4H2Raz.js";import"./lodash.clonedeep-ONeKF3hD.js";import"./lodash.isequal-8drsGctg.js";import"./flowbite-0yPYSvbH.js";import"./@popperjs-zyV4rJhQ.js";import"./_plugin-vue_export-helper-x3n3nnut.js";const O={key:0,class:"text-red-600 mb-4"},U={class:"py-12"},D={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},E={class:"bg-white shadow-sm sm:rounded-lg"},P={class:"p-6"},$={class:"text-2xl font-bold mb-6"},Q={key:0,class:"space-y-8"},T={class:"text-lg font-medium mb-4"},G={key:0,class:"text-sm text-gray-500 ml-2"},H={class:"space-y-3"},I={class:"flex items-center gap-3"},J={key:0,class:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},K=s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1),R=[K],W={key:1,class:"w-5 h-5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},X=s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1),Y=[X],Z={class:"mt-6 p-4 bg-gray-50 rounded-lg"},L={class:"mt-2"},ee={class:"text-lg font-medium mb-4"},se={key:0,class:"text-sm text-gray-500 ml-2"},te={class:"space-y-3"},oe=["type","name","value","onUpdate:modelValue"],re={class:"flex justify-end"},je={__name:"Show",props:{quiz:Object},setup(u){const m=u,y=j(),l=x({}),h=x(!1);(()=>{m.quiz.questions.forEach(t=>{t.question.question_type_id===2?l.value[t.question.id]=[]:l.value[t.question.id]=null})})();const b=()=>{h.value=!0,F.post(route("quizzes.submit",m.quiz.uuid),{answers:l.value},{onFinish:()=>h.value=!1})},q=()=>{var t;return(t=m.quiz.attempts)==null?void 0:t.some(a=>a.participant_id===y.props.auth.user.id)},d=()=>{var t;return(t=m.quiz.attempts)==null?void 0:t.find(a=>a.participant_id===y.props.auth.user.id)},z=(t,a)=>!a||!a.answers?[]:a.answers.filter(e=>e.quiz_question.question_id===t),g=(t,a,e)=>z(t,e).some(v=>v.question_option_id===a);return(t,a)=>(o(),k(A,null,{default:w(()=>[t.$page.props.errors.answers?(o(),r("div",O,n(t.$page.props.errors.answers),1)):c("",!0),s("div",U,[s("div",D,[s("div",E,[s("div",P,[s("h2",$,n(u.quiz.name),1),q()?(o(),r("div",Q,[(o(!0),r(p,null,_(u.quiz.questions,e=>(o(),r("div",{key:e.id,class:"p-6 border rounded-lg"},[s("h3",T,[f(n(e.question.name)+" ",1),e.question.question_type_id===2?(o(),r("span",G," (Multiple answers allowed) ")):c("",!0)]),s("div",H,[(o(!0),r(p,null,_(e.question.options,i=>(o(),r("div",{key:i.id,class:B(["flex items-center p-3 border rounded",{"bg-green-100":i.is_correct,"bg-red-100":!i.is_correct&&g(e.question_id,i.id,d())}])},[s("div",I,[i.is_correct?(o(),r("svg",J,R)):c("",!0),!i.is_correct&&g(e.question_id,i.id,d())?(o(),r("svg",W,Y)):c("",!0),s("span",null,n(i.name),1)])],2))),128))])]))),128)),s("div",Z,[s("p",null," Correct Answers: "+n(d().correct_answers)+" / "+n(d().total_questions),1),s("p",L," Points Earned: "+n(d().points_earned),1)])])):(o(),r("form",{key:1,onSubmit:V(b,["prevent"])},[(o(!0),r(p,null,_(u.quiz.questions,e=>(o(),r("div",{key:e.id,class:"mb-8"},[s("h3",ee,[f(n(e.question.name)+" ",1),e.question.question_type_id===2?(o(),r("span",se," (Select all that apply) ")):c("",!0)]),s("div",te,[(o(!0),r(p,null,_(e.question.options,i=>(o(),r("label",{key:i.id,class:"flex items-center p-3 border rounded hover:bg-gray-50"},[C(s("input",{type:e.question.question_type_id===2?"checkbox":"radio",name:"question-"+e.question.id,value:i.id,"onUpdate:modelValue":v=>l.value[e.question.id]=v,class:"mr-3"},null,8,oe),[[M,l.value[e.question.id]]]),s("span",null,n(i.name),1)]))),128))])]))),128)),s("div",re,[S(N,{disabled:h.value},{default:w(()=>[f(" Submit Quiz ")]),_:1},8,["disabled"])])],32))])])])])]),_:1}))}};export{je as default};
