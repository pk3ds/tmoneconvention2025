import{r as w,f as t,j as k,k as x,g as o,x as i,y as v,p as e,F as u,C as m,t as z,z as B,P as C,l as V,q as j,v as M}from"./@vue-ioZSKZPS.js";import{Q as S,O as A}from"./@inertiajs-bduIXNZ8.js";import{_ as N}from"./AuthenticatedLayout-qoozuMqV.js";import{P}from"./PrimaryButton-Sc2Na1gZ.js";import"./axios-mNEckKTA.js";import"./deepmerge-LjH1GvcH.js";import"./call-bind-C9g98eDj.js";import"./get-intrinsic-PI8GGpBQ.js";import"./has-symbols-fNtejGuA.js";import"./has-proto-dzJH2Y5C.js";import"./function-bind-HMk2skFd.js";import"./hasown-iNtpzeJm.js";import"./set-function-length-Q9qN-rEI.js";import"./define-data-property-0n4USnm6.js";import"./has-property-descriptors-CncpgOAI.js";import"./gopd-l1hRYync.js";import"./qs-NiufHlhl.js";import"./side-channel-DQESS8qD.js";import"./object-inspect-upD72wnW.js";import"./nprogress-eK4H2Raz.js";import"./lodash.clonedeep-ONeKF3hD.js";import"./lodash.isequal-8drsGctg.js";import"./flowbite-0yPYSvbH.js";import"./@popperjs-zyV4rJhQ.js";import"./_plugin-vue_export-helper-x3n3nnut.js";const U={key:0,class:"text-red-600 mb-4"},F={class:"py-12"},O={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},$={class:"bg-white shadow-sm sm:rounded-lg"},D={class:"p-6"},E={class:"text-2xl font-bold mb-6"},Q={key:0,class:"space-y-8"},R={class:"text-lg font-medium mb-4"},T={class:"space-y-3"},G={class:"flex items-center gap-3"},H={key:0,class:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},I=e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1),J=[I],K={key:1,class:"w-5 h-5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},W=e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1),X=[W],Y={class:"mt-6 p-4 bg-gray-50 rounded-lg"},Z={class:"font-medium"},L={class:"mt-2"},ee={class:"text-lg font-medium mb-4"},se={class:"space-y-3"},te=["name","value","onUpdate:modelValue"],oe={class:"flex justify-end"},je={__name:"Show",props:{quiz:Object},setup(l){const p=l,f=S(),_=w({}),h=w(!1),y=()=>{h.value=!0,A.post(route("quizzes.submit",p.quiz.id),{answers:_.value},{onFinish:()=>h.value=!1})},q=()=>{var a;return(a=p.quiz.attempts)==null?void 0:a.some(n=>n.participant_id===f.props.auth.user.id)},d=()=>{var a;return(a=p.quiz.attempts)==null?void 0:a.find(n=>n.participant_id===f.props.auth.user.id)},g=(a,n)=>!n||!n.answers?null:n.answers.find(s=>s.quiz_question.question_id===a);return(a,n)=>(t(),k(N,null,{default:x(()=>[a.$page.props.errors.answers?(t(),o("div",U,i(a.$page.props.errors.answers),1)):v("",!0),e("div",F,[e("div",O,[e("div",$,[e("div",D,[e("h2",E,i(l.quiz.name),1),q()?(t(),o("div",Q,[(t(!0),o(u,null,m(l.quiz.questions,s=>(t(),o("div",{key:s.id,class:"p-6 border rounded-lg"},[e("h3",R,i(s.question.name),1),e("div",T,[(t(!0),o(u,null,m(s.question.options,r=>{var c,b;return t(),o("div",{key:r.id,class:z(["flex items-center p-3 border rounded",{"bg-green-100":r.is_correct,"bg-red-100":!r.is_correct&&((c=g(s.question_id,d()))==null?void 0:c.question_option_id)===r.id}])},[e("div",G,[r.is_correct?(t(),o("svg",H,J)):v("",!0),!r.is_correct&&((b=g(s.question_id,d()))==null?void 0:b.question_option_id)===r.id?(t(),o("svg",K,X)):v("",!0),e("span",null,i(r.name),1)])],2)}),128))])]))),128)),e("div",Y,[e("p",Z," Score: "+i(d().marks_obtained)+" / "+i(l.quiz.total_marks),1),e("p",null," Correct Answers: "+i(d().correct_answers)+" / "+i(d().total_questions),1),e("p",L," Points Earned: "+i(d().points_earned),1)])])):(t(),o("form",{key:1,onSubmit:M(y,["prevent"])},[(t(!0),o(u,null,m(l.quiz.questions,s=>(t(),o("div",{key:s.id,class:"mb-8"},[e("h3",ee,i(s.question.name),1),e("div",se,[(t(!0),o(u,null,m(s.question.options,r=>(t(),o("label",{key:r.id,class:"flex items-center p-3 border rounded hover:bg-gray-50"},[B(e("input",{type:"radio",name:"question-"+s.question.id,value:r.id,"onUpdate:modelValue":c=>_.value[s.question.id]=c,class:"mr-3"},null,8,te),[[C,_.value[s.question.id]]]),e("span",null,i(r.name),1)]))),128))])]))),128)),e("div",oe,[V(P,{disabled:h.value},{default:x(()=>[j(" Submit Quiz ")]),_:1},8,["disabled"])])],32))])])])])]),_:1}))}};export{je as default};
