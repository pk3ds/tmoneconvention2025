import{r as x,f as o,j as k,k as b,g as r,x as a,y as u,p as e,F as p,C as _,q as f,t as B,z as C,M,l as S,v as V}from"./@vue-ioZSKZPS.js";import{Q as j,O as F}from"./@inertiajs-bduIXNZ8.js";import{_ as A}from"./AuthenticatedLayout-JFvQXC81.js";import{P as N}from"./PrimaryButton-Sc2Na1gZ.js";import"./axios-mNEckKTA.js";import"./deepmerge-LjH1GvcH.js";import"./call-bind-C9g98eDj.js";import"./get-intrinsic-PI8GGpBQ.js";import"./has-symbols-fNtejGuA.js";import"./has-proto-dzJH2Y5C.js";import"./function-bind-HMk2skFd.js";import"./hasown-iNtpzeJm.js";import"./set-function-length-Q9qN-rEI.js";import"./define-data-property-0n4USnm6.js";import"./has-property-descriptors-CncpgOAI.js";import"./gopd-l1hRYync.js";import"./qs-NiufHlhl.js";import"./side-channel-DQESS8qD.js";import"./object-inspect-upD72wnW.js";import"./nprogress-eK4H2Raz.js";import"./lodash.clonedeep-ONeKF3hD.js";import"./lodash.isequal-8drsGctg.js";import"./flowbite-0yPYSvbH.js";import"./@popperjs-zyV4rJhQ.js";import"./_plugin-vue_export-helper-x3n3nnut.js";const O={key:0,class:"text-red-600 mb-4"},U={class:"py-12"},D={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},E={class:"bg-white shadow-sm sm:rounded-lg"},P={class:"p-6"},$={class:"text-2xl font-bold mb-6"},Q={key:0,class:"space-y-8"},T={class:"text-lg font-medium mb-4"},G={key:0,class:"text-sm text-gray-500 ml-2"},H={class:"space-y-3"},I={class:"flex items-center gap-3"},J={key:0,class:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},K=e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1),R=[K],W={key:1,class:"w-5 h-5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},X=e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1),Y=[X],Z={class:"mt-6 p-4 bg-gray-50 rounded-lg"},L={class:"font-medium"},ee={class:"mt-2"},te={class:"text-lg font-medium mb-4"},se={key:0,class:"text-sm text-gray-500 ml-2"},oe={class:"space-y-3"},re=["type","name","value","onUpdate:modelValue"],ie={class:"flex justify-end"},Fe={__name:"Show",props:{quiz:Object},setup(d){const m=d,y=j(),c=x({}),h=x(!1);(()=>{m.quiz.questions.forEach(s=>{s.question.question_type_id===2?c.value[s.question.id]=[]:c.value[s.question.id]=null})})();const q=()=>{h.value=!0,F.post(route("quizzes.submit",m.quiz.uuid),{answers:c.value},{onFinish:()=>h.value=!1})},w=()=>{var s;return(s=m.quiz.attempts)==null?void 0:s.some(n=>n.participant_id===y.props.auth.user.id)},l=()=>{var s;return(s=m.quiz.attempts)==null?void 0:s.find(n=>n.participant_id===y.props.auth.user.id)},z=(s,n)=>!n||!n.answers?[]:n.answers.filter(t=>t.quiz_question.question_id===s),g=(s,n,t)=>z(s,t).some(v=>v.question_option_id===n);return(s,n)=>(o(),k(A,null,{default:b(()=>[s.$page.props.errors.answers?(o(),r("div",O,a(s.$page.props.errors.answers),1)):u("",!0),e("div",U,[e("div",D,[e("div",E,[e("div",P,[e("h2",$,a(d.quiz.name),1),w()?(o(),r("div",Q,[(o(!0),r(p,null,_(d.quiz.questions,t=>(o(),r("div",{key:t.id,class:"p-6 border rounded-lg"},[e("h3",T,[f(a(t.question.name)+" ",1),t.question.question_type_id===2?(o(),r("span",G," (Multiple answers allowed) ")):u("",!0)]),e("div",H,[(o(!0),r(p,null,_(t.question.options,i=>(o(),r("div",{key:i.id,class:B(["flex items-center p-3 border rounded",{"bg-green-100":i.is_correct,"bg-red-100":!i.is_correct&&g(t.question_id,i.id,l())}])},[e("div",I,[i.is_correct?(o(),r("svg",J,R)):u("",!0),!i.is_correct&&g(t.question_id,i.id,l())?(o(),r("svg",W,Y)):u("",!0),e("span",null,a(i.name),1)])],2))),128))])]))),128)),e("div",Z,[e("p",L," Score: "+a(l().marks_obtained)+" / "+a(d.quiz.total_marks),1),e("p",null," Correct Answers: "+a(l().correct_answers)+" / "+a(l().total_questions),1),e("p",ee," Points Earned: "+a(l().points_earned),1)])])):(o(),r("form",{key:1,onSubmit:V(q,["prevent"])},[(o(!0),r(p,null,_(d.quiz.questions,t=>(o(),r("div",{key:t.id,class:"mb-8"},[e("h3",te,[f(a(t.question.name)+" ",1),t.question.question_type_id===2?(o(),r("span",se," (Select all that apply) ")):u("",!0)]),e("div",oe,[(o(!0),r(p,null,_(t.question.options,i=>(o(),r("label",{key:i.id,class:"flex items-center p-3 border rounded hover:bg-gray-50"},[C(e("input",{type:t.question.question_type_id===2?"checkbox":"radio",name:"question-"+t.question.id,value:i.id,"onUpdate:modelValue":v=>c.value[t.question.id]=v,class:"mr-3"},null,8,re),[[M,c.value[t.question.id]]]),e("span",null,a(i.name),1)]))),128))])]))),128)),e("div",ie,[S(N,{disabled:h.value},{default:b(()=>[f(" Submit Quiz ")]),_:1},8,["disabled"])])],32))])])])])]),_:1}))}};export{Fe as default};
