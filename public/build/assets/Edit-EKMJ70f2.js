import{r as v,f as m,j as y,k as f,p as e,v as w,l as o,z as V,D as k,g as _,C as O,x as $,F as P,q as U}from"./@vue-r-HUGdoc.js";import{O as j}from"./@inertiajs-ssfLaM5f.js";import{_ as B}from"./AuthenticatedLayout-7zCDPPUQ.js";import{P as C}from"./PrimaryButton-Bi0o4Yet.js";import{_ as p,a as u,b as n}from"./TextInput-97J-R1Wl.js";import"./axios-mNEckKTA.js";import"./deepmerge-LjH1GvcH.js";import"./call-bind-C9g98eDj.js";import"./get-intrinsic-PI8GGpBQ.js";import"./has-symbols-fNtejGuA.js";import"./has-proto-dzJH2Y5C.js";import"./function-bind-HMk2skFd.js";import"./hasown-iNtpzeJm.js";import"./set-function-length-Q9qN-rEI.js";import"./define-data-property-0n4USnm6.js";import"./has-property-descriptors-CncpgOAI.js";import"./gopd-l1hRYync.js";import"./qs-NiufHlhl.js";import"./side-channel-DQESS8qD.js";import"./object-inspect-upD72wnW.js";import"./nprogress-eK4H2Raz.js";import"./lodash.clonedeep-ONeKF3hD.js";import"./lodash.isequal-8drsGctg.js";import"./flowbite-0yPYSvbH.js";import"./@popperjs-zyV4rJhQ.js";import"./_plugin-vue_export-helper-x3n3nnut.js";const D={class:"py-12"},E={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},q={class:"bg-white shadow-sm sm:rounded-lg"},T={class:"p-6"},F=e("h2",{class:"text-2xl font-bold mb-6"},"Edit Poll",-1),N={class:"space-y-4"},M={class:"space-y-6"},S=e("h3",{class:"text-lg font-medium"}," Poll Options ",-1),z={class:"flex justify-between items-start"},A={class:"font-medium"},L=["onClick","disabled"],R={class:"flex justify-end"},_e={__name:"Edit",props:{poll:{type:Object,required:!0}},setup(b){const r=b,t=v({title:r.poll.title,description:r.poll.description,expires_at:r.poll.expires_at,options:r.poll.options.map(l=>l.option_text)}),d=v(!1),g=()=>{t.value.options.push("")},h=l=>{t.value.options.length>2&&t.value.options.splice(l,1)},x=()=>{d.value=!0,j.put(route("polls.update",r.poll),t.value,{onFinish:()=>d.value=!1})};return(l,i)=>(m(),y(B,null,{default:f(()=>[e("div",D,[e("div",E,[e("div",q,[e("div",T,[F,e("form",{onSubmit:w(x,["prevent"]),class:"space-y-6"},[e("div",N,[e("div",null,[o(p,{for:"title",value:"Poll Title"}),o(u,{id:"title",type:"text",modelValue:t.value.title,"onUpdate:modelValue":i[0]||(i[0]=a=>t.value.title=a),class:"mt-1 block w-full",required:""},null,8,["modelValue"]),o(n,{message:l.$page.props.errors.title,class:"mt-2"},null,8,["message"])]),e("div",null,[o(p,{for:"description",value:"Description"}),V(e("textarea",{id:"description","onUpdate:modelValue":i[1]||(i[1]=a=>t.value.description=a),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:"3"},null,512),[[k,t.value.description]]),o(n,{message:l.$page.props.errors.description,class:"mt-2"},null,8,["message"])]),e("div",null,[o(p,{for:"expires_at",value:"Expiration Date (Optional)"}),o(u,{id:"expires_at",type:"datetime-local",modelValue:t.value.expires_at,"onUpdate:modelValue":i[2]||(i[2]=a=>t.value.expires_at=a),class:"mt-1 block w-full"},null,8,["modelValue"]),o(n,{message:l.$page.props.errors.expires_at,class:"mt-2"},null,8,["message"])])]),e("div",M,[e("div",{class:"flex justify-between items-center"},[S,e("button",{type:"button",onClick:g,class:"text-sm bg-gray-100 px-3 py-2 rounded-md hover:bg-gray-200"}," Add Option ")]),(m(!0),_(P,null,O(t.value.options,(a,s)=>(m(),_("div",{key:s,class:"p-4 border rounded-lg space-y-4"},[e("div",z,[e("h4",A," Option "+$(s+1),1),e("button",{type:"button",onClick:c=>h(s),class:"text-red-600 hover:text-red-800",disabled:t.value.options.length<=2}," Remove ",8,L)]),e("div",null,[o(p,{for:"option-"+s,value:"Option Text"},null,8,["for"]),o(u,{id:"option-"+s,type:"text",modelValue:t.value.options[s],"onUpdate:modelValue":c=>t.value.options[s]=c,class:"mt-1 block w-full",required:"",placeholder:"Enter option "+(s+1)},null,8,["id","modelValue","onUpdate:modelValue","placeholder"]),o(n,{message:l.$page.props.errors[`options.${s}`],class:"mt-2"},null,8,["message"])])]))),128))]),e("div",R,[o(C,{disabled:d.value},{default:f(()=>[U(" Update Poll ")]),_:1},8,["disabled"])])],32)])])])])]),_:1}))}};export{_e as default};
